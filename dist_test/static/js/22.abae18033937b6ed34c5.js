webpackJsonp([22],{1031:function(t,e,n){var a=n(897);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(4)("3cefd317",a,!1)},1032:function(t,e,n){var a=n(898);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(4)("4053a961",a,!1)},716:function(t,e,n){n(1031),n(1032);var a=n(5)(n(833),n(966),"data-v-94bf88e0",null);a.options.__file="D:\\baozWork\\fontend\\ECMS\\src\\view\\productManage\\productInfo.vue",a.esModule&&Object.keys(a.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] productInfo.vue: functional components are not supported with templates, they should use render functions."),t.exports=a.exports},833:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=[{title:"货号",dataIndex:"item_number",align:"center",scopedSlots:{customRender:"item_number"}},{title:"图片",dataIndex:"src",align:"center",scopedSlots:{customRender:"src"}},{title:"名称",dataIndex:"title",align:"center",scopedSlots:{customRender:"title"}},{title:"类别",dataIndex:"class_name",align:"center",scopedSlots:{customRender:"class_name"}},{title:"单价（元）",dataIndex:"price",align:"center",scopedSlots:{customRender:"price"}},{title:"操作",dataIndex:"operation",align:"center",scopedSlots:{customRender:"operation"}}];e.default={name:"productInfo",components:{},data:function(){return{columns:a,searchKey:"",select_id:"",dataList:[],selectList:[],pagination:{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],current:1,pageSize:10,total:0,showTotal:function(t,e){return"共 "+t+" 项"}}}},methods:{onShowSizeChange:function(t){this.pagination.current=t.current,this.pagination.pageSize=t.pageSize,this.refreshGroup()},onSearch:function(t){this.searchKey=t,this.refreshGroup()},selChange:function(t){this.select_id=t,this.refreshGroup()},deleteFn:function(t){var e=this;this.$axios({method:"POST",url:"/index.php?r=uc/product/goods-del",data:{id:t,status:"10"}}).then(function(t){1==t.data.status&&(e.$message.success("删除成功",2),e.refreshGroup())})},batch_create:function(){this.$router.push({path:"/productManage/batch_add"})},new_create:function(){this.$router.push({path:"/productManage/new_add",query:{create:"1",id:0}})},editFn:function(t){this.$router.push({path:"/productManage/new_add",query:{create:"2",id:t}})},getSelect:function(){var t=this;this.$axios({method:"GET",url:"/index.php?r=uc/product/get-class",params:{}}).then(function(e){var n=e.data;1==n.status&&(t.selectList=n.data,t.select_id=t.selectList[0].id,t.refreshGroup())})},refreshGroup:function(){var t=this;this.$axios({method:"GET",url:"/index.php?r=uc/product/goods-list",params:{p:t.pagination.current,n:t.pagination.pageSize,key:t.searchKey,class_id:t.select_id}}).then(function(e){var n=e.data;1==n.status&&(t.pagination.total=parseInt(n.data.count),t.dataList=n.data.list)})}},mounted:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},updated:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},computed:{},created:function(){this.getSelect()}}},897:function(t,e,n){e=t.exports=n(3)(!1),e.push([t.i,"\n.background-color {\n\tbackground: #fff;\n\theight: calc(100vh - 90px);\n\toverflow-y: auto;\n}\n",""])},898:function(t,e,n){e=t.exports=n(3)(!1),e.push([t.i,"\n.tab[data-v-94bf88e0] {\n\tmargin: 0px 20px 50px 20px;\n}\n",""])},966:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"background-color"},[n("a-row",{staticStyle:{padding:"20px 20px 0 20px"}},[n("a-col",{staticStyle:{"text-align":"left"},attrs:{span:"12"}},[n("a-select",{staticStyle:{width:"150px","margin-right":"20px"},attrs:{placeholder:"请选择类别"},on:{change:t.selChange},model:{value:t.select_id,callback:function(e){t.select_id=e},expression:"select_id"}},t._l(t.selectList,function(e,a){return n("a-select-option",{key:e.id},[t._v(t._s(e.title))])}),1),t._v(" "),n("a-input-search",{staticStyle:{width:"200px","margin-bottom":"20px"},attrs:{placeholder:"请输入货号、名称查询"},on:{search:t.onSearch}})],1),t._v(" "),n("a-col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[n("a-button",{attrs:{type:"primary"},on:{click:t.new_create}},[t._v("新建")])],1)],1),t._v(" "),n("div",{staticClass:"tab"},[n("a-table",{attrs:{columns:t.columns,dataSource:t.dataList,pagination:t.pagination},on:{change:t.onShowSizeChange},scopedSlots:t._u([{key:"src",fn:function(e,a,o){return[a.src.length>0?n("a-popover",{attrs:{trigger:"hover",placement:"right"}},[n("template",{slot:"content"},[n("img",{attrs:{src:a.src[0].src,width:"200px"}})]),t._v(" "),n("img",{attrs:{src:a.src[0].src,width:"60px",height:"60px"}})],2):t._e()]}},{key:"operation",fn:function(e,a,o){return[n("div",{staticClass:"editable-row-operations"},[n("span",{staticStyle:{"margin-right":"10px"}},[n("a",{on:{click:function(){return t.editFn(a.id,a.title,a.desc)}}},[t._v("编辑")])]),t._v(" "),n("span",[n("a-popconfirm",{attrs:{title:"你确定要删除吗？",placement:"top",okText:"确定",cancelText:"取消"},on:{confirm:function(e){t.deleteFn(a.id)}}},[n("a",{attrs:{href:"javascript:void(0);"}},[t._v("删除")])])],1)])]}}])})],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});